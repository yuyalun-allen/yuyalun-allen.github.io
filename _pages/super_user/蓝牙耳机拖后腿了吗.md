---
date: 2026.01.11
---

# 蓝牙耳机拖后腿了吗？

## 起因

最近 wireplumber （音频服务器 pipewire 的会话管理器）的一次更新导致 gnome-shell 的 libgnome-volumn-control 切换到 Hands-free Profile 的时候（例如需要调用麦克风的时候）会导致空指针，触发 Assertion Failure，进而导致整个 gnome-shell crash，详情见 <https://gitlab.gnome.org/GNOME/libgnome-volume-control/-/issues/34>。
让我对蓝牙音频产生了兴趣，通过 [AK 的科普视频](https://youtu.be/Hn0Nt9qW0IU?si=4BhLPFNwcRo_dpmm)简单了解了一下蓝牙技术的发展过程，其中也提到了蓝牙音频是蓝牙最重要的应用之一。
蓝牙耳机有两种完全不同的工作模式：A2DP（Advanced Audio Distribution Profile）和HFP（Hands-free Profile），其中 A2DP 是听音乐看视频单向输出的时候采用的模式，HFP 是视频通话双向输入输出时采用的模式。
虽然 HFP 是导致本次 crash 的引爆点，但这种模式主打听个响，没什么值得深入的。A2DP 模式下的若干音频编解码协议却与我们平时看视频听音乐的音质息息相关，显然要更有意思一些。

## 耳机与主机连接的协议是什么？

恰好我手头有国内手机厂商的 Oppo Enco Free 4 和国际耳机厂商的 Sony XM5，有趣的是它们的协议还确实有区别。
在我的 Linux 主机上，这两款耳机都支持 SBC, SBC-XQ 和 AAC 编码，而 Snoy XM5 还支持 LDAC 编码。
事实上 Oppo Enco Free 4 也支持一种更新的编解码算法 LHDC，可惜的是这在 Linux pipewire 上没有开源的实现，在连接 Android 手机的时候可以支持。

因此当我使用 Oppo 耳机时只能通过 AAC 协议（码率约为 250 kbps）播放音乐，而 Sony 耳机则可以使用码率更高的 LDAC 协议（最高码率为 990 kbps）。

> 我这里仅考虑码率，但是码率仅仅是音质的一个影响因素，否则小米的 wifi 耳机就是最强无线耳机了，:-)

## 瓶颈是蓝牙耳机吗？

我让 Gemini 写了一个监控 btmon 输出的脚本以判断耳机与主机通信的实际速率，结果和标准规定的类似，即 AAC 250 kbps，LDAC 990 kbps。
那我们平时听的音乐码率呢？
这里有几个例子：

| 音乐 | 大致码率 kbps|
|------|--------------|
|flac 格式的 《不为谁而作的歌》| 945|
|ogg 格式的高品质 《关键词》|320|
|m4a 格式的 Youtube 音频 《Through The Vally》|128|
|ogg 格式的标准品质 《只要有你的地方》|96|

可以看到高品质和无损格式下，AAC 协议需要对音频做更进一步的压缩，只有 LDAC 协议从码率上才能提供相应的支持。
但如果只是标准格式的话，还是先提升一下音频质量吧。
Linux 上的 QQ 音乐从传输速率上看应该是标准格式，估计 spotify 流媒体码率应该也差不多。
这种情况下，蓝牙耳机的传输显然不是瓶颈。

> 而且无论如何蓝牙传输协议的有损编解码必定会产生音质的损耗，无论是 AAC 还是 LDAC，除非 passthrough。

> 音质更与耳机本身的硬件素质相关，这里只讨论蓝牙协议编解码和速率对于音质的影响。
