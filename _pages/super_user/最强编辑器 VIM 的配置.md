---
date: 2024.09.02
---

# 为什么要使用 vim 

相信大家已经看了很多关于 vim 强大功能的视频或文章，如果你没有看过，我再次简单列举一下 vim 的优点：

1. **快速**：vim 是一个基于命令行的纯文本编辑器，不需要图形化界面，所以资源占用少，相应速度快。举一个很简单的例子，当你打开一个上万行的`json`文件并想要在某一行做出修改时，用 vscode 或 微软的notepad 打开会卡顿，而 vim 则可以秒开。
2. **高效**：vim 的操作方式非常高效，可以通过快捷键快速的完成各种操作，让你摆脱鼠标的束缚，仅通过键盘专注于当前的编辑任任务。例如`hjkl`键可以代替方向键，`w`可以快速移动到下一个单词，`dw`可以删除一个单词，`ci"`可以删除引号内的内容并进入插入模式等等。
3. **可定制**：vim 是一个开源软件，可以通过插件来扩展其功能，比如可以通过插件来实现代码高亮，代码折叠，代码补全等功能。虽然 vim 本身只是一个文本编辑器，但是通过插件可以实现很多 IDE 的功能，如代码补全，代码折叠，代码高亮等。

当然这并不意味着 vim 可以取代现代的 IDE（如 vscode）。其实想一想为什么会出现演化出现代的 IDE 就能够明白，现代 IDE 提供了更好的 UI 和更好的交互性，所以在一些交互性很强的场景下，如调试，jupyter notebook，现代 IDE 是更加合适的选择（至少在我的观点中是这样）。然而大多数情况下，作为程序员或者文字工作者，只需要快速的编写、跳转、修改文本，更好的UI和交互性反而只是累赘，这种情况下显然 vim 是一个更好的选择。

# vim 的基本操作

首先 vim 的安装就不必多说了，作为一个非常成熟的软件，在所有流行的的Linux发行版、Windows、MacOS中都可以通过包管理器安装，如 `apt`，`yum`，`pacman`，`scoop` ，`brew` 等，当然也可以通过源码安装，这里就不再赘述了。

其次，虽然 vim 支持大量插件，但是 vim 的快速高效源自于其本身的基本操作，所以需要对 vim 的基本操烂熟于心，这里简单列举一下：

1. **移动光标**：vim 的移动光标是非常高效的，可以通过`hjkl`键来移动光标，`w`可以快速移动到下一个单词，`b`可以快速移动到上一个单词（以上按键都可以结合数字使用，如 `3w` 就是向前移动3个单词 `3k` 就是向上移动3行），`0`可以快速移动到行首，`$`可以快速移动到行尾，`gg`可以快速移动到文件头，`G`可以快速移动到文件尾，`Ctrl+u`可以向上翻页，`Ctrl+d`可以向下翻页等等。 在进行移动光标操作时**最好不要使用方向键和鼠标**，因为这样会让你的手偏离甚至离开键盘，降低效率。
2. **插入模式**：好了，现在你知道如何移动了，但是这该死的**编辑器**要怎么**编辑**呢？在 vim 中有三种模式，分别是普通模式（NORMAL），插入模式（INSERT）和命令模式（COMMAND），默认是在普通模式，只有进入了编辑模式才能编辑，很好理解吧。在普通模式下，你可以通过`i`进入插入模式，通过`a`进入插入模式并移动到下一个字符，通过`o`在当前行下方插入一个新行并进入插入模式，通过`O`在当前行上方插入一个新行并进入插入模式。在插入模式下，你可以通过`Esc`退出插入模式。

> 这里提供一个简单的 tip： 可以将`CapsLock`和`Esc`键调换，这样在输入时就不需要移动手指到键盘的最上方了 ：）用多了 vim 你就会发现，`Esc`键是你最常用的键之一。

3. **命令模式**：又好了，现在你知道如何编辑并且已经回到普通模式了，但是这该死的编辑器要怎么**保存退出**呢？在普通模式下，你可以通过`:`进入命令模式，通过`:q`退出 vim，通过`:w`保存文件，通过`:wq`保存并退出，通过`:q!`强制退出，通过`:e`重新打开文件等等。在命令模式下，你可以通过`/`来搜索文本，通过`n`来查找下一个匹配，通过`N`来查找上一个匹配，对应的 `?` 用于向上搜索。

恭喜你🎉，现在你已经掌握了 vim 的基本操作，可以开始愉快的使用 vim 编辑文本了。慢着，聪明的你可能要问了，让我记了这么多乱七八糟的按键（别急，其实还有更多😊），除了手不离开键盘，这些操作有什么优势呢？缺少了好多功能啊，我的文件导航栏、标签页栏、分屏功能到哪里去了？vim
真正强大的地方在与文本的跳转，你可以通过快捷键快速的跳转到任意位置，而不需要通过鼠标点击，这涉及到 vim 的进阶操作。

# vim 的进阶操作

首先需要理解 vim 中的一些关键概念：
1. **buffer**：buffer 是 vim 中的一个概念，可以理解为一个内存中的文本，一个 buffer 可以对应一个文件，也可以对应一个没有保存的文本。在 vim 中可以通过`:ls`命令查看当前打开的 buffer，通过`:bnext`和`:bprev`命令切换 buffer。
2. **window**：window 是 vim 中的一个概念，可以理解为一个视图，一个 window 可以对应一个 buffer，也可以对应一个 buffer 的不同部分。在 vim 中可以通过`:sp`和`:vsp`命令分割窗口，通过`Ctrl+w`和`hjkl`切换窗口。
3. **tab**：tab 是 vim 中的一个概念，可以理解为一个工作区，一个 tab 可以对应多个 window，一个 window 可以对应多个 buffer。在 vim 中可以通过`:tabnew`命令新建 tab，通过`gt`和`gT`切换 tab。可以将 tab 作为一个工作区，来管理不同项目的文件。

简单地理解一下，buffer 是文本（内存中的数据），window 和 tab 都是UI（可视化的方式）。知道了这些概念，只要勤加练习你就可以快速的在不同的文件、不同的窗口、不同的 tab 之间切换了，也不会去想念那些繁琐的导航栏、标签页栏、分屏功能了。
